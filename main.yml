---
- hosts: pi
  become: true

  roles:
    - raspi_config

  vars:
    firmware_update: true

    hostname: rpi01

    mount_tmpfs:
      - { path: "/tmp", size: "512m", options: "nodev,nosuid" }
      - { path: "/var/log", size: "512m", options: "nodev,noexec,nosuid" }

    timezone: America/New_York

    swap:
      enabled: false

    bluetooth:
      enabled: false

    wireless:
      enabled: false

    # wireless:
    #   country: US
    #   ssid: MY_NETWORK_SSID
    #   psk: my_secret_password

    overclock:
      cpu: true

    ssh:
      ssh_user: pi
      enabled: true
      pub_key_file:
        - ~/.ssh/id_ed25519.pub
      options:
        - "AllowUsers {{ pi }}"
        - "PasswordAuthentication no"
        - "PermitRootLogin no"
        - "StrictModes yes"
        - "X11Forwarding no"
        - "ChallengeResponseAuthentication no"
        - "UsePAM no"
        - "PermitEmptyPasswords no"
